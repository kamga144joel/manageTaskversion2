{"version":3,"file":"getFromAST.mjs","sources":["../../../../../../../../../../../node_modules/@apollo/client/utilities/graphql/getFromAST.js"],"sourcesContent":["import { invariant, newInvariantError } from \"../globals/index.js\";\nimport { valueToObjectRepresentation } from \"./storeUtils.js\";\n// Checks the document for errors and throws an exception if there is an error.\nexport function checkDocument(doc) {\n    invariant(doc && doc.kind === \"Document\", 88);\n    var operations = doc.definitions\n        .filter(function (d) { return d.kind !== \"FragmentDefinition\"; })\n        .map(function (definition) {\n        if (definition.kind !== \"OperationDefinition\") {\n            throw newInvariantError(89, definition.kind);\n        }\n        return definition;\n    });\n    invariant(operations.length <= 1, 90, operations.length);\n    return doc;\n}\nexport function getOperationDefinition(doc) {\n    checkDocument(doc);\n    return doc.definitions.filter(function (definition) {\n        return definition.kind === \"OperationDefinition\";\n    })[0];\n}\nexport function getOperationName(doc) {\n    return (doc.definitions\n        .filter(function (definition) {\n        return definition.kind === \"OperationDefinition\" && !!definition.name;\n    })\n        .map(function (x) { return x.name.value; })[0] || null);\n}\n// Returns the FragmentDefinitions from a particular document as an array\nexport function getFragmentDefinitions(doc) {\n    return doc.definitions.filter(function (definition) {\n        return definition.kind === \"FragmentDefinition\";\n    });\n}\nexport function getQueryDefinition(doc) {\n    var queryDef = getOperationDefinition(doc);\n    invariant(queryDef && queryDef.operation === \"query\", 91);\n    return queryDef;\n}\nexport function getFragmentDefinition(doc) {\n    invariant(doc.kind === \"Document\", 92);\n    invariant(doc.definitions.length <= 1, 93);\n    var fragmentDef = doc.definitions[0];\n    invariant(fragmentDef.kind === \"FragmentDefinition\", 94);\n    return fragmentDef;\n}\n/**\n * Returns the first operation definition found in this document.\n * If no operation definition is found, the first fragment definition will be returned.\n * If no definitions are found, an error will be thrown.\n */\nexport function getMainDefinition(queryDoc) {\n    checkDocument(queryDoc);\n    var fragmentDefinition;\n    for (var _i = 0, _a = queryDoc.definitions; _i < _a.length; _i++) {\n        var definition = _a[_i];\n        if (definition.kind === \"OperationDefinition\") {\n            var operation = definition.operation;\n            if (operation === \"query\" ||\n                operation === \"mutation\" ||\n                operation === \"subscription\") {\n                return definition;\n            }\n        }\n        if (definition.kind === \"FragmentDefinition\" && !fragmentDefinition) {\n            // we do this because we want to allow multiple fragment definitions\n            // to precede an operation definition.\n            fragmentDefinition = definition;\n        }\n    }\n    if (fragmentDefinition) {\n        return fragmentDefinition;\n    }\n    throw newInvariantError(95);\n}\nexport function getDefaultValues(definition) {\n    var defaultValues = Object.create(null);\n    var defs = definition && definition.variableDefinitions;\n    if (defs && defs.length) {\n        defs.forEach(function (def) {\n            if (def.defaultValue) {\n                valueToObjectRepresentation(defaultValues, def.variable.name, def.defaultValue);\n            }\n        });\n    }\n    return defaultValues;\n}\n//# sourceMappingURL=getFromAST.js.map"],"names":[],"mappings":";;;AAGO,SAAS,cAAc,KAAK;AAC/B,YAAU,OAAO,IAAI,SAAS,YAAY,EAAE;AAC5C,MAAI,aAAa,IAAI,YAChB,OAAO,SAAU,GAAG;AAAE,WAAO,EAAE,SAAS;AAAA,EAAA,CAAuB,EAC/D,IAAI,SAAU,YAAY;AACvB,QAAA,WAAW,SAAS,uBAAuB;AACrC,YAAA,kBAAkB,IAAI,WAAW,IAAI;AAAA,IAAA;AAExC,WAAA;AAAA,EAAA,CACV;AACD,YAAU,WAAW,UAAU,GAAG,IAAI,WAAW,MAAM;AAChD,SAAA;AACX;AACO,SAAS,uBAAuB,KAAK;AACxC,gBAAc,GAAG;AACjB,SAAO,IAAI,YAAY,OAAO,SAAU,YAAY;AAChD,WAAO,WAAW,SAAS;AAAA,EAC9B,CAAA,EAAE,CAAC;AACR;AACO,SAAS,iBAAiB,KAAK;AAClC,SAAQ,IAAI,YACP,OAAO,SAAU,YAAY;AAC9B,WAAO,WAAW,SAAS,yBAAyB,CAAC,CAAC,WAAW;AAAA,EAAA,CACpE,EACI,IAAI,SAAU,GAAG;AAAE,WAAO,EAAE,KAAK;AAAA,EAAA,CAAQ,EAAE,CAAC,KAAK;AAC1D;AAEO,SAAS,uBAAuB,KAAK;AACxC,SAAO,IAAI,YAAY,OAAO,SAAU,YAAY;AAChD,WAAO,WAAW,SAAS;AAAA,EAAA,CAC9B;AACL;AACO,SAAS,mBAAmB,KAAK;AAChC,MAAA,WAAW,uBAAuB,GAAG;AACzC,YAAU,YAAY,SAAS,cAAc,SAAS,EAAE;AACjD,SAAA;AACX;AACO,SAAS,sBAAsB,KAAK;AAC7B,YAAA,IAAI,SAAS,YAAY,EAAE;AACrC,YAAU,IAAI,YAAY,UAAU,GAAG,EAAE;AACrC,MAAA,cAAc,IAAI,YAAY,CAAC;AACzB,YAAA,YAAY,SAAS,sBAAsB,EAAE;AAChD,SAAA;AACX;AAMO,SAAS,kBAAkB,UAAU;AACxC,gBAAc,QAAQ;AAClB,MAAA;AACK,WAAA,KAAK,GAAG,KAAK,SAAS,aAAa,KAAK,GAAG,QAAQ,MAAM;AAC1D,QAAA,aAAa,GAAG,EAAE;AAClB,QAAA,WAAW,SAAS,uBAAuB;AAC3C,UAAI,YAAY,WAAW;AAC3B,UAAI,cAAc,WACd,cAAc,cACd,cAAc,gBAAgB;AACvB,eAAA;AAAA,MAAA;AAAA,IACX;AAEJ,QAAI,WAAW,SAAS,wBAAwB,CAAC,oBAAoB;AAG5C,2BAAA;AAAA,IAAA;AAAA,EACzB;AAEJ,MAAI,oBAAoB;AACb,WAAA;AAAA,EAAA;AAEX,QAAM,kBAAkB,EAAE;AAC9B;AACO,SAAS,iBAAiB,YAAY;AACrC,MAAA,gBAAuB,uBAAA,OAAO,IAAI;AAClC,MAAA,OAAO,cAAc,WAAW;AAChC,MAAA,QAAQ,KAAK,QAAQ;AAChB,SAAA,QAAQ,SAAU,KAAK;AACxB,UAAI,IAAI,cAAc;AAClB,oCAA4B,eAAe,IAAI,SAAS,MAAM,IAAI,YAAY;AAAA,MAAA;AAAA,IAClF,CACH;AAAA,EAAA;AAEE,SAAA;AACX;","x_google_ignoreList":[0]}