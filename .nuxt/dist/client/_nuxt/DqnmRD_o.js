import{_ as N,r as c,g as U,j as V,k as W,l as B,c as i,o as d,a as e,m as g,v as x,d as A,n as C,p as q,q as F,s as _,t as H,F as K,b as O}from"./CcQe4kPX.js";import{_ as R}from"./C_jnHwWy.js";import{g as P}from"./MnJuaCIP.js";const Q={class:"responsive-container max-h-full border-green-light justify-center xl:justify-around items-center sm:justify-center w-full min-h-screen flex flex-col dark:bg-gray-900 bg-white rounded-lg max-w-full"},J={class:"bg-gradient-to-r from-gray-800 to-gray-900 dark:from-gray-900 dark:to-gray-800 cursor-pointer p-4 flex items-center max-h-full justify-between w-full max-w-full sticky top-0 z-10 shadow-lg rounded-lg"},X={class:"items-center space-x-4"},Y={class:"absolute z-20 flex mt-2 w-48 p-2 bg-white dark:bg-gray-700 rounded-md shadow-lg text-sm text-gray-700 dark:text-gray-200 border dark:border-gray-600"},Z={class:"absolute z-20 mt-2 w-48 p-2 flex bg-white dark:bg-gray-700 rounded-md shadow-lg text-sm text-gray-700 dark:text-gray-200 border dark:border-gray-600"},ee={class:"absolute z-20 mt-2 w-48 p-2 bg-white dark:bg-gray-700 rounded-md shadow-lg text-sm text-gray-700 dark:text-gray-200 border dark:border-gray-600"},te={class:"absolute z-20 mt-2 w-48 p-2 flex bg-white dark:bg-gray-700 rounded-md shadow-lg text-sm text-gray-700 dark:text-gray-200 border dark:border-gray-600 right-0"},oe={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},re={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},se={class:"flex-grow flex items-center justify-center p-6"},le={class:"bg-white text-black shadow-lg rounded-lg p-8 w-full max-w-md"},ae={key:0,class:"text-center text-gray-500"},ne=["disabled"],ie={key:0,class:"text-red-600 text-center mt-2"},de={__name:"profil",setup(E){const a=c(null),u=r=>{a.value=r},l=()=>{a.value=null};U();const w=V(),p=c(""),v=c(""),f=c(null),m=c(null),T=P`
  mutation Login($email: String!, $password: String!) {
    loginUser(input: { email: $email, password: $password }) {
      user {
        id
        token
      }
    }
  }
`,{mutate:D,loading:h,error:j}=W(T),G=()=>{window.location.href="https://localhost:8000/auth/google"},$=async()=>{var r,t,o,n,k,M,S;if(f.value=null,m.value=null,!p.value||!v.value){f.value="Veuillez remplir tous les champs.";return}try{const s=await D({email:p.value,password:v.value}),z=(o=(t=(r=s==null?void 0:s.data)==null?void 0:r.loginUser)==null?void 0:t.user)==null?void 0:o.token,L=(M=(k=(n=s==null?void 0:s.data)==null?void 0:n.loginUser)==null?void 0:k.user)==null?void 0:M.id;if(!z)throw new Error("Token non reçu depuis le serveur.");if(!L)throw new Error("User ID non reçu depuis le serveur après la connexion.");localStorage.setItem("auth_token",z),await w.push("/infolink")}catch(s){console.error("Erreur de connexion :",s),m.value=((S=j.value)==null?void 0:S.message)||s.message||"Une erreur inconnue est survenue."}},b=c(!1),y=r=>{b.value=r,r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},I=()=>{const r=!b.value;y(r);try{localStorage.setItem("theme",r?"dark":"light")}catch(t){console.error("Echec de la sauvegarde de la préférence de thème:",t)}};return B(()=>{const t=new URLSearchParams(window.location.search).get("token");if(t){localStorage.setItem("auth_token",t),w.push("/infolink");return}let o="light";try{const n=localStorage.getItem("theme");n?o=n:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(o="dark")}catch(n){console.error("Échec de l'accès à la préférence de thème:",n),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(o="dark")}y(o==="dark")}),(r,t)=>(d(),i(K,null,[t[19]||(t[19]=e("div",{class:"bg-teal-lightest border-t-4 border-teal rounded-b text-teal-darkest rounded-lg px-4 py-3 shadow-md",role:"alert"},[e("div",{class:"flex"},[e("div",{class:"py-1"},[e("svg",{class:"fill-current h-6 w-6 text-teal mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"})])]),e("div",null,[e("p",{class:"font-bold"},"Our privacy policy has changed"),e("p",{class:"text-sm"},"Make sure you know how these changes affect you.")])])],-1)),e("div",Q,[e("nav",J,[t[9]||(t[9]=e("div",{class:"flex items-center space-x-8"},[e("img",{class:"inline-block h-16 w-16 rounded-full ring-4 ring-white flex-shrink-0",src:R,alt:"MANAGETASKS Logo"}),e("h1",{class:"text-3xl flex font-bold text-white select-text bg-gradient-to-r from-fuchsia-600 to-pink-600 bg-clip-text text-transparent"},"MANAGETASKS")],-1)),e("div",X,[e("div",{class:"relative items-center",onMouseenter:t[1]||(t[1]=o=>u("detailWeb")),onMouseleave:l},[e("a",{href:"/detailWeb",onClick:l,onMouseenter:t[0]||(t[0]=o=>u("detailWeb")),class:"text-lg font-semibold px-4 py-3 text-lime-400 rounded-lg hover:bg-lime-900 hover:text-lime-300 transition-all duration-200 flex"}," detailWeb ",32),g(e("div",Y," Description rapide de la page detailWeb. ",512),[[x,a.value==="detailWeb"]])],32),e("div",{class:"relative",onMouseenter:t[2]||(t[2]=o=>u("tailwind")),onMouseleave:l},[e("a",{href:"/menutcss",onClick:l,class:"text-lg font-semibold px-4 py-3 text-red-400 rounded-lg hover:bg-red-900 hover:text-red-300 transition-all duration-200"}," courGratuit(tailwindcss) "),g(e("div",Z," Accédez au cours complet sur Tailwind CSS. ",512),[[x,a.value==="tailwind"]])],32),e("div",{class:"relative",onMouseenter:t[3]||(t[3]=o=>u("basecss")),onMouseleave:l},[e("a",{href:"/courcss",onClick:l,class:"text-lg font-semibold px-4 py-3 text-yellow-400 rounded-lg hover:bg-yellow-900 hover:text-yellow-300 transition-all duration-200"}," courGratuit(basecss) "),g(e("div",ee," Apprenez les bases fondamentales du CSS. ",512),[[x,a.value==="basecss"]])],32),e("div",{class:"relative",onMouseenter:t[4]||(t[4]=o=>u("login")),onMouqseleave:l},[e("a",{href:"/login",onClick:l,class:"text-lg font-semibold px-6 py-3 bg-lime-600 text-white rounded-lg hover:bg-lime-700 transition-all duration-200 flex"}," Connectez-vous "),g(e("div",te," Accédez à votre compte ou créez-en un. ",512),[[x,a.value==="login"]])],32),e("button",{onClick:I,class:"p-2 rounded-md text-gray-500 dark:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500","aria-label":"Toggle Dark Mode"},[b.value?(d(),i("svg",re,t[8]||(t[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)]))):(d(),i("svg",oe,t[7]||(t[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])))])])]),e("div",se,[e("div",le,[t[14]||(t[14]=e("h1",{class:"underline font-bold text-center mb-4 text-green-600"}," Bienvenue sur notre site Web ",-1)),t[15]||(t[15]=e("h2",{class:"text-center text-gray-700 mb-6"}," Connectez-vous pour bénéficier de nos services ",-1)),t[16]||(t[16]=e("h2",{class:"bg-red-700"},[A("vous n'avez pas de conte MANAGETASKS??? c'est pas grave!!!"),e("a",{href:"/inscription",class:"underline"},"créez-en")],-1)),C(h)?(d(),i("p",ae,"Connexion en cours...")):(d(),i("form",{key:1,onSubmit:q($,["prevent"]),class:"space-y-4"},[e("div",null,[t[10]||(t[10]=e("label",{for:"email",class:"block text-gray-700 mb-1"},"Email",-1)),g(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>p.value=o),type:"email",id:"email",name:"email",placeholder:"dev-kaiser@gmail.com",autocomplete:"email",class:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-red-400"},null,512),[[_,p.value]])]),e("div",null,[t[11]||(t[11]=e("label",{for:"password",class:"block text-gray-700 mb-1"},"Mot de passe",-1)),g(e("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>v.value=o),type:"password",id:"password",name:"password",placeholder:"********",autocomplete:"current-password",class:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-red-400"},null,512),[[_,v.value]])]),e("button",{type:"submit",disabled:C(h),class:"w-full bg-red-500 text-white py-2 rounded hover:bg-red-600 transition disabled:opacity-50"}," Se connecter ",8,ne),t[13]||(t[13]=e("a",{class:"inline-block align-baseline font-bold text-sm text-blue hover:text-blue-darker",href:"#"}," Mot de passe oublier? ",-1)),e("button",{type:"button",class:"w-full bg-white border border-gray-300 text-gray-700 py-2 rounded flex items-center justify-center mt-2 hover:bg-gray-50",onClick:G},t[12]||(t[12]=[e("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",class:"w-5 h-5 mr-2 hover:text-yellow-500"},null,-1),A(" Se connecter avec Google ")])),m.value||f.value?(d(),i("p",ie,H(m.value?m.value.message:f.value),1)):F("",!0)],32))])]),t[17]||(t[17]=e("div",{class:"bg-blue-lightest border-t border-b border-blue text-blue-dark px-4 py-3",role:"alert"},[e("p",{class:"font-bold"},"Message d'information"),e("p",{class:"text-sm"}," Quelques textes supplémentaires pour expliquer ledit message..")],-1)),t[18]||(t[18]=e("p",{class:"text-center text-yellow-900 text-xs"}," ©2020 Acme Corp. All rights reserved. ",-1))])],64))}},ue=N(de,[["__scopeId","data-v-11a2c9f4"]]),pe={__name:"index",setup(E){return(a,u)=>(d(),i("div",null,[O(ue)]))}};export{pe as default};
